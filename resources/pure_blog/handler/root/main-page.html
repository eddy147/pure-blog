{% extends "pure_blog/base.html" %}

{% block content %}
<section class="section">
  <div class="container is-fluid">

    <div class="new-post">
      <a class="button is-danger" href="/post-add">New Post</a>
    </div>

    <h2 class="subtitle is-2">Recent Posts</h2>
    <ul id="post-list">
      {% for p in posts %}
      <li>
        <article>
          <div class="post-title">
            <a href="/posts/{{p.post/id}}">
              <h3 class="subtitle is-3">{{p.post/title}}</h3>
            </a>
          </div>
          <div>
            <!-- see here for date formats: https://github.com/yogthos/Selmer#date -->
            <p><i>Posted {{p.post/created-date|date:"yyyy-MM-dd HH:mm"}}
              by {{p.user/first-name}} {{p.user/last-name}}</i></p>
            <br />
            <p>{{p.post/preview}}</p>
          </div>
        </article>
      </li>
      {% endfor %}
    </ul>
  </div>
</section>
{% endblock %}
